{% extends "base.html" %}

{% block title %}
  {{ course }}
{% endblock title %}

{% block content-main %}

<div id="course_detail_title">
  <h6>{{ course }}</h6>
</div>
<div id="course_detail_description">
  <p>{{ course.description }}</p>
</div>
<div id="course_detail_sections">
  <label>Sections</label>
  <p>
  {% for section in course.sections %}
    {{ section | stringformat:"02d" }}
  {% endfor %}
  </p>
</div>
<div>
  Related Outcomes
  <ul>
    {% for outcome in outcomes %}
    <li>
      <a href="{{ outcome.get_absolute_url }}">
        {{ outcome.title }}
      </a>
    </li>
    {% endfor %}
  </ul>
</div>
<div class="row">
  {% if user.is_privileged and course in user.staffprofile.courses.all %}
  <a class="btn btn-raised btn-primary" href="{% url 'outcomes:outcome-create' %}">Create Outcome</a>
  {% endif %}
  {% if user.user_role == 'FA' %}
  <a class="btn btn-secondary" 
     href="{% url 'courses:course-update' course.subject course.slug %}">
    Edit
  </a>

  {% if user.is_superuser %}
  <div class="modal fade" id="remove-course-modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="courses-modal-title">{{ course }}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to remove this course?</p>
        </div>
        <div class="modal-footer">
          <form action="{% url "courses:course-delete" course.subject course.slug %}" method="post">
            {% csrf_token %}
            <button class="btn btn-raised btn-danger">
              Remove Course
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <button class="btn btn-danger" data-toggle="modal" data-target="#remove-course-modal">
   Remove Course 
  </button>
  {% endif %}

  {% endif %}
</div>

{% endblock content-main %}
